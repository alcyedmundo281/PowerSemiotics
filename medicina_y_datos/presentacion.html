<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentación: Pruebas Diagnósticas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .slider-container { scroll-behavior: smooth; }
        .slide { flex-shrink: 0; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div class="relative w-full h-screen flex flex-col">
        <div id="slider-container" class="slider-container flex w-full h-full overflow-x-auto no-scrollbar">
            <!-- Slides will be injected by JS -->
        </div>
        <div class="fixed bottom-0 left-0 right-0 p-4 bg-black/10 backdrop-blur-sm">
            <div class="max-w-7xl mx-auto flex justify-between items-center">
                <button id="prevBtn" class="bg-white/80 text-gray-800 font-bold py-2 px-6 rounded-lg shadow-md hover:bg-white transition disabled:opacity-50">Anterior</button>
                <div id="slide-counter" class="text-white font-medium text-sm"></div>
                <button id="nextBtn" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-teal-700">Siguiente</button>
            </div>
        </div>
    </div>
    <script>
        const slidesData = [
            { type: 'title', title: 'Pruebas Diagnósticas y su Interpretación', subtitle: 'Sensibilidad, Especificidad, Valores Predictivos y Razones de Verosimilitud', theme: 'bg-gray-900 text-white' },
            { type: 'objectives', title: 'Objetivos de Aprendizaje', objectives: ['Construir e interpretar una tabla de 2x2.', 'Definir y calcular Sensibilidad (S) y Especificidad (E).', 'Definir y calcular Valor Predictivo Positivo (VPP) y Negativo (VPN).', 'Comprender el impacto de la prevalencia en los valores predictivos.', 'Interpretar las Razones de Verosimilitud (LR+ y LR-).'] },
            { type: 'concept', title: 'La Tabla de 2x2', content: 'Es la herramienta fundamental para evaluar una prueba diagnóstica. Compara los resultados de la prueba (Positivo/Negativo) con el estándar de oro o "verdad" (Enfermo/Sano).', image: 'https://g.co/gemini/share/88d5e89a544f' },
            { type: 'formula', title: 'Sensibilidad y Especificidad', formulas: [{ name: 'Sensibilidad', formula: '(VP / (VP + FN)) * 100', description: 'Capacidad de la prueba para detectar a los enfermos. Un resultado negativo en una prueba muy sensible prácticamente descarta la enfermedad (SnNout).' }, { name: 'Especificidad', formula: '(VN / (VN + FP)) * 100', description: 'Capacidad de la prueba para identificar a los sanos. Un resultado positivo en una prueba muy específica confirma la enfermedad (SpPin).' }] },
            { type: 'concept', title: 'Valores Predictivos', content: 'Responden a la pregunta clínica: "Dado el resultado de mi paciente, ¿cuál es la probabilidad de que tenga (o no) la enfermedad?". Dependen críticamente de la prevalencia de la enfermedad en la población estudiada.', theme: 'bg-gray-50' },
            { type: 'formula', title: 'VPP y VPN', formulas: [{ name: 'Valor Predictivo Positivo (VPP)', formula: '(VP / (VP + FP)) * 100', description: 'Probabilidad de tener la enfermedad si el resultado es positivo.' }, { name: 'Valor Predictivo Negativo (VPN)', formula: '(VN / (VN + FN)) * 100', description: 'Probabilidad de NO tener la enfermedad si el resultado es negativo.' }] },
            { type: 'concept', title: 'Razones de Verosimilitud (LR)', content: 'Son la medida más potente. Modifican la probabilidad pre-test de tener una enfermedad a una probabilidad post-test. No dependen de la prevalencia.', image: 'https://g.co/gemini/share/1f5e82f7c041' },
            { type: 'formula', title: 'LR+ y LR-', formulas: [{ name: 'LR Positivo (LR+)', formula: 'Sensibilidad / (1 - Especificidad)', description: '¿Cuánto más probable es un resultado positivo en un enfermo que en un sano? >10 es excelente.' }, { name: 'LR Negativo (LR-)', formula: '(1 - Sensibilidad) / Especificidad', description: '¿Cuánto más probable es un resultado negativo en un enfermo que en un sano? <0.1 es excelente.' }] },
            { type: 'summary', title: 'Resumen y Puntos Clave', points: ['S y E son propiedades intrínsecas de la prueba.', 'VPP y VPN dependen de la prevalencia.', 'LRs son la mejor herramienta para modificar la probabilidad clínica.', 'Utiliza el nomograma de Fagan para aplicar los LRs en la práctica.'] },
            { type: 'final', title: 'Preguntas y Cierre', theme: 'bg-gray-900 text-white' }
        ];

        // El resto del script del slider (igual al de los módulos anteriores)
        const sliderContainer = document.getElementById('slider-container');
        slidesData.forEach((data, index) => {
            const slide = document.createElement('div');
            slide.className = `slide w-full h-full flex items-center justify-center p-8 ${data.theme || 'bg-white'}`;
            let innerHTML = '';
            // Switch-case para construir el HTML de cada tipo de diapositiva
            switch(data.type) {
                case 'title':
                    innerHTML = `<div class="text-center"><p class="text-xl md:text-2xl text-teal-300">Medicina y Datos</p><h1 class="text-4xl md:text-5xl font-extrabold my-4">${data.title}</h1><p class="text-lg text-gray-400">${data.subtitle}</p></div>`;
                    break;
                case 'objectives':
                    innerHTML = `<div class="max-w-4xl w-full"><h2 class="text-3xl font-bold mb-6">${data.title}</h2><ul class="space-y-4 text-lg">${data.objectives.map(o => `<li class="flex items-start"><span class="text-teal-500 mr-3 mt-1">&#10003;</span><span>${o}</span></li>`).join('')}</ul></div>`;
                    break;
                case 'concept':
                    innerHTML = `<div class="max-w-4xl w-full grid md:grid-cols-2 gap-8 items-center"><div class="text-xl text-gray-700">${data.content}</div>${data.image ? `<div><img src="${data.image}" alt="Diagrama conceptual" class="rounded-lg shadow-md"></div>` : ''}</div>`;
                    break;
                case 'formula':
                     innerHTML = `<div class="max-w-4xl w-full"><h2 class="text-3xl font-bold mb-6">${data.title}</h2><div class="grid md:grid-cols-2 gap-8">${data.formulas.map(f => `<div class="p-4 bg-gray-50 rounded-lg border"><h3 class="font-bold text-xl text-gray-800">${f.name}</h3><p class="text-lg font-mono bg-gray-200 p-2 rounded my-2 text-center text-gray-900">${f.formula}</p><p class="text-gray-700">${f.description}</p></div>`).join('')}</div></div>`;
                    break;
                 case 'summary':
                    innerHTML = `<div class="max-w-4xl w-full"><h2 class="text-3xl font-bold mb-6">${data.title}</h2><ul class="space-y-4 text-xl">${data.points.map(p => `<li class="p-4 bg-gray-50 rounded-lg">${p}</li>`).join('')}</ul></div>`;
                    break;
                case 'final':
                    innerHTML = `<div class="text-center"><h2 class="text-4xl md:text-6xl font-bold">${data.title}</h2></div>`;
                    break;
            }
            slide.innerHTML = innerHTML;
            sliderContainer.appendChild(slide);
        });
        
        const prevBtn = document.getElementById('prevBtn'), nextBtn = document.getElementById('nextBtn'), slideCounter = document.getElementById('slide-counter');
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 1;
        const totalSlides = slides.length;
        function updateUI(){ if(totalSlides > 0){ slideCounter.textContent = `Diapositiva ${currentSlide} / ${totalSlides}`; prevBtn.disabled = currentSlide === 1; nextBtn.disabled = currentSlide === totalSlides; } }
        function scrollToSlide(n){ sliderContainer.scrollTo({ left: (n-1) * sliderContainer.clientWidth, behavior: 'smooth' }); }
        nextBtn.addEventListener('click', () => { if(currentSlide < totalSlides) { currentSlide++; scrollToSlide(currentSlide); updateUI(); } });
        prevBtn.addEventListener('click', () => { if(currentSlide > 1) { currentSlide--; scrollToSlide(currentSlide); updateUI(); } });
        updateUI();
    </script>
</body>
</html>
