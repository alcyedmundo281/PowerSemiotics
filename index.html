<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Powersemiotics - Decodificando el Lenguaje de la Ciencia</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&amp;family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
    <link href="assets/tailwind.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        window.SUPABASE_URL = "https://dyfjawopnbkjrjsnhbyn.supabase.co";
        window.SUPABASE_ANON_KEY = "sb_publishable_9fyCTrHL9ArHojgrTMSX1A_UlwZSOCa";
        window.supabaseClient = null;

        function toggleAuthModal() {
            const modal = document.getElementById('auth-modal');
            if (modal) modal.classList.toggle('hidden');
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu) menu.classList.toggle('hidden');
        }

        async function handleLogout() {
            if (window.supabaseClient) {
                await window.supabaseClient.auth.signOut();
                window.location.reload();
            }
        }
    </script>
    <style>
        .gradient-text {
            background: linear-gradient(135deg, #8B3DFF 0%, #FF4081 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .icon-gradient {
            background: linear-gradient(135deg, #8B3DFF 0%, #FF4081 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-hover-effect {
            transition: all 0.3s ease;
        }

        .card-hover-effect:hover {
            transform: translateY(-5px);
        }
    </style>
</head>

<body
    class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark font-sans transition-colors duration-300">
    <nav
        class="sticky top-0 z-50 bg-white/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex-shrink-0 flex items-center gap-3">
                    <div
                        class="w-10 h-10 rounded-lg bg-primary flex items-center justify-center text-white font-bold text-xl">
                        P
                    </div>
                    <span
                        class="font-display font-bold text-2xl text-gray-900 dark:text-white tracking-tight">Powersemiotics</span>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary font-medium transition-colors"
                        href="ai_dashboard.html">AI Dashboard</a>
                    <button id="auth-btn" onclick="signInWithGoogle()"
                        class="px-5 py-2.5 rounded-full bg-primary hover:bg-opacity-90 text-white font-medium transition-all shadow-md hover:shadow-lg">
                        Iniciar Sesión
                    </button>
                    <span id="user-email-display"
                        class="hidden text-sm font-medium text-gray-600 dark:text-gray-400 italic"></span>
                </div>
                <div class="md:hidden flex items-center gap-2">
                    <button id="auth-btn-mobile" onclick="signInWithGoogle()"
                        class="px-3 py-1.5 bg-primary text-white text-xs font-bold rounded-full">
                        Login
                    </button>
                    <button class="text-gray-500 hover:text-primary focus:outline-none" type="button"
                        onclick="toggleMobileMenu()">
                        <span class="material-icons-outlined text-3xl">menu</span>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Drawer -->
        <div id="mobile-menu"
            class="hidden md:hidden bg-white dark:bg-card-dark border-b border-gray-100 dark:border-gray-800 p-4 space-y-4">
            <a class="block text-gray-600 dark:text-gray-300 font-medium" href="ai_dashboard.html">AI Dashboard</a>
            <hr class="border-gray-100 dark:border-gray-800">
            <button onclick="handleLogout()" id="logout-btn-mobile" class="hidden text-red-500 font-bold">Cerrar
                Sesión</button>
        </div>
    </nav>
    <section class="relative overflow-hidden pt-20 pb-24 lg:pt-32 lg:pb-40">
        <div class="absolute inset-0 z-0 opacity-30 dark:opacity-10 pointer-events-none">
            <div
                class="absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 rounded-full bg-primary blur-3xl opacity-20 animate-pulse">
            </div>
            <div class="absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 rounded-full bg-secondary blur-3xl opacity-20">
            </div>
        </div>
        <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <span
                class="inline-block py-1 px-3 rounded-full bg-purple-100 dark:bg-purple-900/30 text-primary font-semibold text-sm mb-6 tracking-wide uppercase">
                Educación Médica del Futuro
            </span>
            <h1
                class="text-5xl md:text-6xl lg:text-7xl font-display font-bold text-gray-900 dark:text-white leading-tight mb-8">
                Decodificando el <br class="hidden md:block" />
                <span class="gradient-text">Lenguaje de la Ciencia</span>
            </h1>
            <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-600 dark:text-gray-300 leading-relaxed">
                Un portal dedicado a explorar la intersección de la semiótica, la ciencia de datos y el conocimiento
                médico. Transformamos datos complejos en símbolos poderosos para la nueva generación de médicos.
            </p>
            <div class="mt-10 flex justify-center gap-4">
                <a class="px-8 py-4 rounded-full bg-primary text-white font-bold text-lg shadow-lg hover:shadow-primary/50 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2"
                    href="#areas">
                    Explorar Áreas
                    <span class="material-icons-outlined text-xl">arrow_downward</span>
                </a>
                <a class="px-8 py-4 rounded-full bg-white dark:bg-card-dark text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 font-bold text-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-300"
                    href="#">
                    Saber Más
                </a>
            </div>
        </div>
    </section>
    <section class="py-20 bg-white dark:bg-background-dark/50 relative" id="areas">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white">
                    Explora Nuestras Áreas de Conocimiento
                </h2>
                <div class="w-24 h-1 bg-gradient-to-r from-primary to-secondary mx-auto mt-6 rounded-full"></div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div
                    class="group bg-card-light dark:bg-card-dark rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect">
                    <div
                        class="w-16 h-16 rounded-2xl bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center mb-6 group-hover:bg-purple-100 dark:group-hover:bg-purple-900/40 transition-colors">
                        <span class="material-icons-outlined text-4xl icon-gradient">psychology</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-gray-900 dark:text-white mb-4">Medicina y Datos</h3>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-6">
                        La nueva arquitectura del juicio clínico, desde el razonamiento computacional hasta la genómica
                        y la IA explicable.
                    </p>
                    <a class="inline-flex items-center text-primary font-semibold hover:text-secondary transition-colors"
                        href="medicina_y_datos.html">
                        Aprender más <span class="material-icons-outlined ml-1 text-sm">arrow_forward</span>
                    </a>
                </div>
                <div
                    class="group bg-card-light dark:bg-card-dark rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect">
                    <div
                        class="w-16 h-16 rounded-2xl bg-pink-50 dark:bg-pink-900/20 flex items-center justify-center mb-6 group-hover:bg-pink-100 dark:group-hover:bg-pink-900/40 transition-colors">
                        <span class="material-icons-outlined text-4xl icon-gradient">medication</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-gray-900 dark:text-white mb-4">Farmacoterapia
                        Racional</h3>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-6">
                        Optimización del uso de medicamentos a través de la evidencia, la farmacogenómica y la toma de
                        decisiones basada en datos.
                    </p>
                    <a class="inline-flex items-center text-primary font-semibold hover:text-secondary transition-colors"
                        href="farmacoterapia_racional.html">
                        Aprender más <span class="material-icons-outlined ml-1 text-sm">arrow_forward</span>
                    </a>
                </div>
                <div
                    class="group bg-card-light dark:bg-card-dark rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect">
                    <div
                        class="w-16 h-16 rounded-2xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center mb-6 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40 transition-colors">
                        <span class="material-icons-outlined text-4xl icon-gradient">hub</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-gray-900 dark:text-white mb-4">Medicina e
                        Implementación</h3>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-6">
                        Estudio de los métodos para promover la adopción de la evidencia científica en la práctica
                        clínica y la política de salud.
                    </p>
                    <a class="inline-flex items-center text-primary font-semibold hover:text-secondary transition-colors"
                        href="medicina_e_implementacion.html">
                        Aprender más <span class="material-icons-outlined ml-1 text-sm">arrow_forward</span>
                    </a>
                </div>
                <div
                    class="group bg-card-light dark:bg-card-dark rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect lg:col-start-1 lg:ml-auto">
                    <div
                        class="w-16 h-16 rounded-2xl bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center mb-6 group-hover:bg-indigo-100 dark:group-hover:bg-indigo-900/40 transition-colors">
                        <span class="material-icons-outlined text-4xl icon-gradient">coronavirus</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-gray-900 dark:text-white mb-4">Gastroenterología
                    </h3>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-6">
                        Análisis profundos sobre enfermedades hepáticas, microbiota y las últimas innovaciones en el
                        campo digestivo.
                    </p>
                    <a class="inline-flex items-center text-primary font-semibold hover:text-secondary transition-colors"
                        href="gastroenterologia.html">
                        Aprender más <span class="material-icons-outlined ml-1 text-sm">arrow_forward</span>
                    </a>
                </div>
                <div
                    class="group bg-card-light dark:bg-card-dark rounded-2xl p-8 border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect lg:col-span-1 lg:mr-auto">
                    <div
                        class="w-16 h-16 rounded-2xl bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center mb-6 group-hover:bg-teal-100 dark:group-hover:bg-teal-900/40 transition-colors">
                        <span class="material-icons-outlined text-4xl icon-gradient">psychology_alt</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-gray-900 dark:text-white mb-4">Neurología</h3>
                    <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-6">
                        Estudios sobre epilepsia, enfermedades neurodegenerativas y los avances en la comprensión del
                        cerebro humano.
                    </p>
                    <a class="inline-flex items-center text-primary font-semibold hover:text-secondary transition-colors"
                        href="neurologia.html">
                        Aprender más <span class="material-icons-outlined ml-1 text-sm">arrow_forward</span>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <section
        class="py-20 bg-background-light dark:bg-background-dark relative border-t border-gray-100 dark:border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
                <div class="text-center md:text-left w-full md:w-auto">
                    <h2 class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white">
                        Investigación Reciente
                    </h2>
                    <div class="w-24 h-1 bg-gradient-to-r from-primary to-secondary mt-6 rounded-full mx-auto md:mx-0">
                    </div>
                    <p class="mt-4 text-gray-600 dark:text-gray-400 max-w-2xl">
                        Últimos hallazgos y publicaciones sobre la convergencia de tecnología y medicina.
                    </p>
                </div>
                <a class="hidden md:flex items-center px-6 py-3 rounded-full bg-white dark:bg-card-dark border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-white font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-all hover:shadow-md group"
                    href="#">
                    Ver biblioteca
                    <span
                        class="material-icons-outlined ml-2 group-hover:translate-x-1 transition-transform">arrow_forward</span>
                </a>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <article
                    class="flex flex-col bg-card-light dark:bg-card-dark rounded-2xl overflow-hidden border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect h-full">
                    <div class="h-48 relative bg-purple-50 dark:bg-purple-900/20 overflow-hidden">
                        <div class="absolute -right-4 -top-4 w-32 h-32 bg-primary/20 rounded-full blur-2xl"></div>
                        <div class="absolute -left-4 -bottom-4 w-32 h-32 bg-secondary/20 rounded-full blur-2xl"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="material-icons-outlined text-6xl text-primary/30">analytics</span>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span
                                class="px-3 py-1 rounded-full bg-white/90 dark:bg-background-dark/90 backdrop-blur-sm text-xs font-bold text-primary shadow-sm border border-purple-100 dark:border-purple-900">
                                Data Science
                            </span>
                        </div>
                    </div>
                    <div class="p-6 flex flex-col flex-grow">
                        <div class="flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-3">
                            <span class="material-icons-outlined text-sm">schedule</span>
                            <span>Hace 2 días</span>
                        </div>
                        <h3 class="text-xl font-display font-bold text-gray-900 dark:text-white mb-3 leading-tight">
                            Algoritmos de Predicción en Sepsis Temprana
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6 flex-grow">
                            Un análisis sobre cómo los nuevos modelos de machine learning están reduciendo la mortalidad
                            mediante alertas preventivas en UCI.
                        </p>
                        <a class="inline-flex items-center text-primary font-semibold hover:text-secondary transition-colors mt-auto group"
                            href="#">
                            Leer artículo <span
                                class="material-icons-outlined ml-1 text-lg group-hover:ml-2 transition-all">arrow_forward</span>
                        </a>
                    </div>
                </article>
                <article
                    class="flex flex-col bg-card-light dark:bg-card-dark rounded-2xl overflow-hidden border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect h-full">
                    <div class="h-48 relative bg-pink-50 dark:bg-pink-900/20 overflow-hidden">
                        <div class="absolute -right-4 -top-4 w-32 h-32 bg-secondary/20 rounded-full blur-2xl"></div>
                        <div class="absolute -left-4 -bottom-4 w-32 h-32 bg-primary/20 rounded-full blur-2xl"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="material-icons-outlined text-6xl text-secondary/30">psychology</span>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span
                                class="px-3 py-1 rounded-full bg-white/90 dark:bg-background-dark/90 backdrop-blur-sm text-xs font-bold text-secondary shadow-sm border border-pink-100 dark:border-pink-900">
                                Neurología
                            </span>
                        </div>
                    </div>
                    <div class="p-6 flex flex-col flex-grow">
                        <div class="flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-3">
                            <span class="material-icons-outlined text-sm">schedule</span>
                            <span>Hace 5 días</span>
                        </div>
                        <h3 class="text-xl font-display font-bold text-gray-900 dark:text-white mb-3 leading-tight">
                            Mapeando la Conectividad Neuronal
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6 flex-grow">
                            Explorando los últimos avances en el Proyecto del Conectoma Humano y sus implicaciones para
                            enfermedades neurodegenerativas.
                        </p>
                        <a class="inline-flex items-center text-secondary font-semibold hover:text-primary transition-colors mt-auto group"
                            href="#">
                            Leer artículo <span
                                class="material-icons-outlined ml-1 text-lg group-hover:ml-2 transition-all">arrow_forward</span>
                        </a>
                    </div>
                </article>
                <article
                    class="flex flex-col bg-card-light dark:bg-card-dark rounded-2xl overflow-hidden border border-gray-100 dark:border-gray-800 shadow-soft hover:shadow-hover card-hover-effect h-full">
                    <div class="h-48 relative bg-blue-50 dark:bg-blue-900/20 overflow-hidden">
                        <div class="absolute -right-4 -top-4 w-32 h-32 bg-blue-400/20 rounded-full blur-2xl"></div>
                        <div class="absolute -left-4 -bottom-4 w-32 h-32 bg-indigo-400/20 rounded-full blur-2xl"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="material-icons-outlined text-6xl text-blue-500/30">biotech</span>
                        </div>
                        <div class="absolute top-4 left-4">
                            <span
                                class="px-3 py-1 rounded-full bg-white/90 dark:bg-background-dark/90 backdrop-blur-sm text-xs font-bold text-blue-600 shadow-sm border border-blue-100 dark:border-blue-900">
                                Bioética
                            </span>
                        </div>
                    </div>
                    <div class="p-6 flex flex-col flex-grow">
                        <div class="flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-3">
                            <span class="material-icons-outlined text-sm">schedule</span>
                            <span>12 Oct, 2023</span>
                        </div>
                        <h3 class="text-xl font-display font-bold text-gray-900 dark:text-white mb-3 leading-tight">
                            El Genoma y la Privacidad de Datos
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6 flex-grow">
                            Dilemas éticos sobre la propiedad de la información genética en la era de la medicina
                            personalizada masiva.
                        </p>
                        <a class="inline-flex items-center text-blue-600 font-semibold hover:text-primary transition-colors mt-auto group"
                            href="#">
                            Leer artículo <span
                                class="material-icons-outlined ml-1 text-lg group-hover:ml-2 transition-all">arrow_forward</span>
                        </a>
                    </div>
                </article>
            </div>
            <div class="mt-8 text-center md:hidden">
                <a class="inline-flex items-center justify-center px-6 py-3 rounded-full bg-white dark:bg-card-dark border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-white font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-all shadow-sm w-full"
                    href="#">
                    Ver biblioteca
                    <span class="material-icons-outlined ml-2">arrow_forward</span>
                </a>
            </div>
        </div>
    </section>
    <footer class="bg-card-dark dark:bg-black text-white pt-16 pb-8 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center mb-12">
                <div class="mb-8 md:mb-0 text-center md:text-left">
                    <div class="flex items-center gap-3 justify-center md:justify-start mb-4">
                        <div
                            class="w-8 h-8 rounded bg-primary flex items-center justify-center text-white font-bold text-lg">
                            P
                        </div>
                        <h3 class="text-2xl font-display font-bold">Powersemiotics</h3>
                    </div>
                    <p class="text-gray-400 max-w-sm">Decodificando la ciencia, un símbolo a la vez. Transformando la
                        educación médica para el futuro.</p>
                </div>
                <div class="flex space-x-6">
                    <a class="text-gray-400 hover:text-white transition-colors" href="#">
                        <span class="sr-only">Twitter</span>
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84">
                            </path>
                        </svg>
                    </a>
                    <a class="text-gray-400 hover:text-white transition-colors" href="#">
                        <span class="sr-only">LinkedIn</span>
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path clip-rule="evenodd"
                                d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </a>
                    <a class="text-gray-400 hover:text-white transition-colors" href="#">
                        <span class="sr-only">GitHub</span>
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path clip-rule="evenodd"
                                d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </a>
                </div>
            </div>
            <div
                class="border-t border-gray-800 pt-8 text-center md:text-left flex flex-col md:flex-row justify-between text-sm text-gray-500">
                <p>© 2024 Powersemiotics. Todos los derechos reservados.</p>
                <div class="mt-4 md:mt-0 space-x-4">
                    <a class="hover:text-gray-300 transition-colors" href="#">Privacidad</a>
                    <a class="hover:text-gray-300 transition-colors" href="#">Términos</a>
                    <a class="hover:text-gray-300 transition-colors" href="#">Cookies</a>
                </div>
            </div>
        </div>
    </footer>
    <!-- Auth Modal -->
    <div id="auth-modal"
        class="fixed inset-0 z-[100] hidden flex items-center justify-center bg-black/50 backdrop-blur-sm p-4">
        <div
            class="bg-white dark:bg-card-dark rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all border border-gray-100 dark:border-gray-800">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Acceso Estudiantes</h3>
                <button onclick="toggleAuthModal()" class="text-gray-400 hover:text-gray-600">
                    <span class="material-icons-outlined">close</span>
                </button>
            </div>
            <div id="auth-options" class="space-y-4">
                <button type="button" onclick="signInWithGoogle()"
                    class="w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 font-bold py-3 rounded-xl shadow-sm hover:bg-gray-50 transition-all">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5">
                    CONTINUAR CON GOOGLE
                </button>

                <div class="relative flex items-center py-4">
                    <div class="flex-grow border-t border-gray-100 dark:border-gray-800"></div>
                    <span class="flex-shrink mx-4 text-gray-400 text-[10px] font-bold uppercase tracking-widest">Acceso
                        rápido</span>
                    <div class="flex-grow border-t border-gray-100 dark:border-gray-800"></div>
                </div>

                <div class="space-y-3">
                    <input type="email" id="login-email"
                        class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-slate-800 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none"
                        placeholder="O ingresa tu email para enlace mágico">
                    <button type="button" onclick="handleMagicLink()" id="btn-magic-link"
                        class="w-full text-primary font-bold text-sm hover:underline py-2 transition-all">
                        Recibir enlace por email &rarr;
                    </button>
                </div>
            </div>
            <p id="auth-status" class="hidden mt-4 text-center text-sm font-bold"></p>
        </div>
    </div>

    <script>
        async function initAuth() {
            try {
                if (!window.supabase) return;
                window.supabaseClient = window.supabase.createClient(window.SUPABASE_URL, window.SUPABASE_ANON_KEY);
                const { data: { session } } = await window.supabaseClient.auth.getSession();
                updateUI(session);
            } catch (e) {
                console.error("Auth Init Error:", e);
            }
        }

        function updateUI(session) {
            const authBtn = document.getElementById('auth-btn');
            const authBtnMobile = document.getElementById('auth-btn-mobile');
            const logoutBtnMobile = document.getElementById('logout-btn-mobile');
            const userEmail = document.getElementById('user-email-display');

            if (session) {
                if (authBtn) {
                    authBtn.innerText = "Cerrar Sesión";
                    authBtn.onclick = handleLogout;
                }
                if (authBtnMobile) {
                    authBtnMobile.innerText = "Cerrar";
                    authBtnMobile.onclick = handleLogout;
                }
                if (logoutBtnMobile) logoutBtnMobile.classList.remove('hidden');
                if (userEmail) {
                    userEmail.innerText = session.user.email;
                    userEmail.classList.remove('hidden');
                }
            } else {
                if (authBtn) {
                    authBtn.innerText = "Iniciar Sesión";
                    authBtn.onclick = toggleAuthModal;
                }
                if (authBtnMobile) {
                    authBtnMobile.innerText = "Login";
                    authBtnMobile.onclick = toggleAuthModal;
                }
                if (logoutBtnMobile) logoutBtnMobile.classList.add('hidden');
                if (userEmail) userEmail.classList.add('hidden');
            }
        }

        async function signInWithGoogle() {
            if (!window.supabaseClient) return;

            console.log("Iniciando Google OAuth. Redirección esperada: https://powersemiotics.com/neurologia.html");

            // Check if running via file:// protocol
            if (window.location.protocol === 'file:') {
                alert("El login con Google requiere un servidor web. Por favor, usa la versión online en powersemiotics.com");
                return;
            }

            const { error } = await window.supabaseClient.auth.signInWithOAuth({
                provider: 'google',
                options: {
                    redirectTo: 'https://powersemiotics.com/neurologia.html'
                }
            });

            if (error) {
                const statusEl = document.getElementById('auth-status');
                if (statusEl) {
                    statusEl.innerText = "Error Google: " + error.message;
                    statusEl.className = "mt-4 text-center text-sm font-bold text-red-500";
                    statusEl.classList.remove('hidden');
                } else {
                    alert("Error Google: " + error.message);
                }
            }
        }

        async function handleMagicLink() {
            const email = document.getElementById('login-email').value;
            const statusEl = document.getElementById('auth-status');
            if (!window.supabaseClient || !email) {
                statusEl.innerText = "Ingresa tu correo primero.";
                statusEl.className = "mt-4 text-center text-sm font-bold text-orange-500";
                statusEl.classList.remove('hidden');
                return;
            }

            const { error } = await window.supabaseClient.auth.signInWithOtp({
                email,
                options: { emailRedirectTo: window.location.href }
            });

            if (error) {
                statusEl.innerText = "Error: " + error.message;
                statusEl.className = "mt-4 text-center text-sm font-bold text-red-500";
            } else {
                statusEl.innerText = "¡Enlace enviado! Revisa tu email.";
                statusEl.className = "mt-4 text-center text-sm font-bold text-green-500";
            }
            statusEl.classList.remove('hidden');
        }

        document.addEventListener('DOMContentLoaded', initAuth);
    </script>
</body>

</html>